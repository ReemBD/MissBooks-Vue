(function(e){function t(t){for(var r,i,s=t[0],c=t[1],u=t[2],l=0,p=[];l<s.length;l++)i=s[l],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(t);while(p.length)p.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var c=n[i];0!==o[c]&&(r=!1)}r&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},o={app:0},a=[];function i(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{about:"013e8340"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=r);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=i(e);var u=new Error;a=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",u.name="ChunkLoadError",u.type=r,u.request=a,n[1](u)}o[e]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var d=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"569e":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("app-header"),n("side-dock",{on:{togglePopup:e.togglePopup}}),n("popup",{attrs:{isOpen:e.popups.chat.isOpen}}),n("router-view")],1)},a=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"app-header"},[n("div",{staticClass:"main-layout flex space-between align-center"},[e._m(0),n("nav",[n("router-link",{attrs:{to:"/",exact:""}},[e._v("Home")]),e._v(" | "),n("router-link",{attrs:{to:"/about"}},[e._v("About")]),e._v(" | "),n("router-link",{attrs:{to:"/book"}},[e._v("Books")])],1)])])},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"logo"},[n("p",[e._v("Books")])])}],c=n("2877"),u={},l=Object(c["a"])(u,i,s,!1,null,null,null),d=l.exports,p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"side-dock"},[n("md-button",{staticClass:"open-chat-btn side-dock-btn md-icon-button md-size-3x",on:{click:function(t){return e.$emit("togglePopup","chat")}}},[n("md-icon",{staticClass:"open-chat-icon side-dock-icon md-size-2x"},[e._v("chat")])],1),n("md-button",{staticClass:"open-add-form-btn side-dock-btn md-icon-button md-size-3x",on:{click:function(t){return e.$emit("togglePopup","bookAdd")}}},[n("md-icon",{staticClass:"open-add-form-icon md-size-2x side-dock-icon"},[e._v("add")])],1)],1)},f=[],m={},v=m,g=Object(c["a"])(v,p,f,!1,null,null,null),h=g.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"popup",class:{open:e.isOpen}},[n("header",[e._t("header")],2),n("main",[n("chat-app"),e._t("default")],2),n("footer",{attrs:{name:"footer"}})])},w=[],k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"chat-app"},[n("h3",[e._v("Welcome to the chat")]),e.messages.length?n("ul",{staticClass:"message-list"},e._l(e.messages,(function(t,r){return n("li",{key:r},[e._v(" "+e._s(t.by)+": "+e._s(t.txt)+" ")])})),0):e._e(),n("input",{directives:[{name:"model",rawName:"v-model",value:e.currMessage.txt,expression:"currMessage.txt"}],attrs:{type:"text"},domProps:{value:e.currMessage.txt},on:{input:function(t){t.target.composing||e.$set(e.currMessage,"txt",t.target.value)}}})])},x=[],_={data:function(){return{messages:[],currMessage:{txt:"",by:"Neo"}}}},y=_,C=Object(c["a"])(y,k,x,!1,null,null,null),O=C.exports,R=n("bf61"),I={props:{isOpen:{type:Boolean,required:!0}},mixins:[R["mixin"]],components:{ChatApp:O}},T=I,S=Object(c["a"])(T,b,w,!1,null,null,null),j=S.exports,A={data:function(){return{popups:{chat:{isOpen:!1},bookAdd:{isOpen:!1}}}},methods:{togglePopup:function(e){console.log(this.popups[e]),this.popups[e].isOpen=!this.popups[e].isOpen},closePopup:function(e){this.popups[e].isOpen=!1}},components:{AppHeader:d,SideDock:h,Popup:j}},B=A,P=Object(c["a"])(B,o,a,!1,null,null,null),$=P.exports,E=n("9483");Object(E["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("d3b7");var M=n("8c4f"),L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"book-app main-layout"},[n("book-filter",{on:{filtered:e.onFilter}}),n("book-list",{attrs:{books:e.booksToShow},on:{remove:e.removeBook}})],1)},N=[],F=(n("96cf"),n("1da1")),D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"book-list clear-list flex wrap space-between"},e._l(e.books,(function(t){return n("book-preview",{key:t._id,attrs:{book:t},on:{remove:e.remove}})})),1)},q=[],z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"book-preview"},[n("div",{staticClass:"img-overlay"}),n("h3",[e._v(e._s(e.volumeInfo.title))]),n("h5",{staticClass:"flex align-center"},[e._v(" "+e._s(e.price)+" "),n("svg-icon",{attrs:{type:"mdi",path:e.bookPriceIcon,size:"14"}})],1),n("img",{attrs:{src:e.volumeInfo.imageLinks.thumbnail}}),n("div",{staticClass:"action-btns flex align-center"},[n("md-button",{staticClass:"see-more-btn md-accent md-outlined",on:{click:e.selected}},[e._v("See more")]),n("md-button",{staticClass:"md-icon-button md-accent md-dense md-raised",on:{click:e.remove}},[n("md-icon",[e._v("delete")])],1)],1)])},U=[],J=n("1fee");function W(){var e,t=this.book.saleInfo.price.currencyCode;switch(t){case"EUR":e="mdiCurrencyEur";break;case"ILS":e="mdiCurrencyIls";break;case"USD":e="mdiCurrencyUsd";break}return n("94ed")[e]}function H(){return this.book.saleInfo.price.amount}var V={props:{book:{type:Object,required:!0}},methods:{remove:function(){this.$emit("remove",this.book._id)},selected:function(){this.$router.push("/book/".concat(this.book._id))}},computed:{bookPriceIcon:W,price:function(){return this.book.saleInfo.price.amount},DeleteIcon:function(){return n("94ed")["mdiTrashCanOutline"]},volumeInfo:function(){return this.book.volumeInfo}},components:{SvgIcon:J["a"]}},Y=V,K=Object(c["a"])(Y,z,U,!1,null,null,null),X=K.exports,Z={props:{books:{type:Array,required:!0}},methods:{remove:function(e){this.$emit("remove",e)}},components:{BookPreview:X}},G=Z,Q=Object(c["a"])(G,D,q,!1,null,null,null),ee=Q.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"book-filter flex align-center"},[n("form",{attrs:{action:"",submit:e.$emit("filtered",e.filterBy)}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.filterBy.txt,expression:"filterBy.txt"}],attrs:{type:"text",placeholder:"Search..."},domProps:{value:e.filterBy.txt},on:{input:[function(t){t.target.composing||e.$set(e.filterBy,"txt",t.target.value)},e.onFilter]}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.filterBy.price,expression:"filterBy.price"}],attrs:{type:"range"},domProps:{value:e.filterBy.price},on:{__r:function(t){return e.$set(e.filterBy,"price",t.target.value)}}})])},ne=[],re=n("5530"),oe={data:function(){return{filterBy:{txt:"",price:0}}},methods:{onFilter:function(){var e={type:"setFilter",filterBy:Object(re["a"])({},this.filterBy)};this.$store.commit(e)}}},ae=oe,ie=Object(c["a"])(ae,te,ne,!1,null,null,null),se=ie.exports,ce={methods:{loadBooks:function(){var e=this;return Object(F["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch({type:"loadBooks"});case 2:case"end":return t.stop()}}),t)})))()},removeBook:function(e){var t=this;return Object(F["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={type:"removeBook",bookId:e},n.next=3,t.$store.dispatch(r);case 3:case"end":return n.stop()}}),n)})))()},togglePopup:function(){this.isPopupOpen=!this.isPopupOpen}},created:function(){this.loadBooks()},computed:{booksToShow:function(){return this.$store.getters.booksToShow}},components:{BookList:ee,BookFilter:se}},ue=ce,le=Object(c["a"])(ue,L,N,!1,null,null,null),de=le.exports,pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.book?n("main",{staticClass:"book-details-container flex space-between main-layout"},[n("section",{staticClass:"flex flex-start column book-details"},[n("h1",{staticClass:"title"},[e._v(e._s(e.volumeInfo.title))]),n("h3",{staticClass:"subtitle"},[e._v(e._s(e.volumeInfo.subtitle))]),n("h4",[e._v(e._s(e.volumeInfo.language))]),n("div",{staticClass:"labels"},[n("span",{staticClass:"reading-label",class:"color-"+e.pageCountProps.darkenIdx},[e._v(e._s(e.pageCountProps.txt))]),n("span",{staticClass:"published-date-label",style:{backgroundColor:e.publishedDateProps.bgColor}},[e._v(e._s(e.publishedDateProps.txt))]),e.isOnSale?n("span",{staticClass:"sale-label"},[e._v("On Sale!")]):e._e()]),n("div",{staticClass:"price flex align-center"},[e._v(" "+e._s(e.price)+" "),n("svg-icon",{attrs:{type:"mdi",path:e.bookPriceIcon,size:"14"}})],1),n("long-txt",{attrs:{txt:e.volumeInfo.description}}),n("ul",{staticClass:"categories clear-list"},[n("h3",[e._v("Categories:")]),e._l(e.volumeInfo.categories,(function(t){return n("li",{key:t,staticClass:"category"},[e._v(" "+e._s(t)+" ")])}))],2),n("img",{attrs:{src:e.volumeInfo.imageLinks.thumbnail}})],1),n("div",{staticClass:"review-add"},[n("review-add",{on:{addReview:e.onAddReview}}),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.book.reviews,expression:"book.reviews"}],staticClass:"review-list clear-list flex column"},[n("h1",{staticClass:"title"},[e._v("What other people thought...")]),e._l(e.book.reviews,(function(t){return n("review-preview",{key:t.id,attrs:{review:t},on:{removeReview:e.onRemoveReview}})}))],2)],1)]):e._e()},fe=[],me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"long-txt flex align-center",class:e.classes},[e._v(" "+e._s(e.shownTxt)+" "),n("md-button",{on:{click:function(t){e.isLongTxtShown=!e.isLongTxtShown}}},[e._v(e._s(e.expandTxtIndicatorTxt))])],1)},ve=[],ge={props:["txt","classes"],data:function(){return{isLongTxtShown:!1}},computed:{shownTxt:function(){return this.isLongTxtShown?this.txt:this.txt.substring(0,100)+"..."},expandTxtIndicatorTxt:function(){return"Show "+(this.isLongTxtShown?"Less":"More")}}},he=ge,be=(n("ce32"),Object(c["a"])(he,me,ve,!1,null,"40b43838",null)),we=be.exports,ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"review-add"},[n("h1",{staticClass:"title"},[e._v("Leave a review...")]),n("form",{staticClass:"review-add-form flex column",on:{submit:function(t){return t.preventDefault(),e.onAddReview(t)}}},[n("label",{attrs:{for:"username"}},[e._v(" Name: ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.reviewToAdd.username,expression:"reviewToAdd.username"}],staticClass:"username",attrs:{type:"text",id:"username",placeholder:"Name..."},domProps:{value:e.reviewToAdd.username},on:{input:function(t){t.target.composing||e.$set(e.reviewToAdd,"username",t.target.value)}}}),n("label",{attrs:{for:"rating"}},[e._v("Rate this book")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.reviewToAdd.rating,expression:"reviewToAdd.rating"}],attrs:{name:"rating",id:"rating"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.reviewToAdd,"rating",t.target.multiple?n:n[0])}}},e._l(5,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),0),n("label",{attrs:{for:"readAt"}},[e._v("When did you read this book?")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.reviewToAdd.readAt,expression:"reviewToAdd.readAt"}],attrs:{type:"date",id:"readAt"},domProps:{value:e.reviewToAdd.readAt},on:{input:function(t){t.target.composing||e.$set(e.reviewToAdd,"readAt",t.target.value)}}}),n("label",{attrs:{for:"freeTxt"}},[e._v("Free text...")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reviewToAdd.freeTxt,expression:"reviewToAdd.freeTxt"}],attrs:{name:"",id:"freeTxt",cols:"30",rows:"10",placeholder:"Enter Review Text..."},domProps:{value:e.reviewToAdd.freeTxt},on:{input:function(t){t.target.composing||e.$set(e.reviewToAdd,"freeTxt",t.target.value)}}}),n("md-button",{staticClass:"submit-review-btn md-primary md-raised",staticStyle:{"margin-inline-start":"0"},attrs:{type:"submit"}},[e._v("Submit Review")])],1)])},xe=[],_e={data:function(){return{reviewToAdd:{username:"",rating:3,readAt:"",freeTxt:""}}},methods:{onAddReview:function(){this.$emit("addReview",this.reviewToAdd),this.reviewToAdd={username:"",rating:3,readAt:"",freeTxt:""}}}},ye=_e,Ce=Object(c["a"])(ye,ke,xe,!1,null,null,null),Oe=Ce.exports,Re=(n("99af"),n("c740"),n("a434"),n("25f0"),n("3ca3"),n("ddb0"),n("2b3d"),n("2909")),Ie=(n("7db0"),n("4160"),n("159b"),{storeToStorage:Te,loadFromStorage:Se,getRandomInt:Ae,getRandomId:je});function Te(e,t){localStorage.setItem(e,JSON.stringify(t)||null)}function Se(e){var t=localStorage.getItem(e);return t?JSON.parse(t):void 0}function je(){var e=Date.now().toString(16),t=Ae(1e3,9999).toString(16),n=Ae(1e3,9999).toString(16);return"".concat(n,"-").concat(e,"-").concat(t).toUpperCase()}function Ae(e,t){var n=e>=t?e+1:t+1,r=e<=t?e:t;return Math.floor(Math.random()*(n-r))+r}var Be={query:$e,get:Ee,delete:Le,post:Fe,put:qe,insert:Ue},Pe="_id";function $e(e){var t=Ie.loadFromStorage(e);return"books"!==e||t[0]._id||t.forEach((function(e){console.log("collection books: ",e),e._id=e.id,delete e.id,e.saleInfo.price={},e.saleInfo.price.amount=Ie.getRandomInt(1,100),e.saleInfo.price.currencyCode=["EUR","USD","ILS"][Ie.getRandomInt(0,2)]})),t||(t=[]),Promise.resolve(t)}function Ee(e,t){return Me.apply(this,arguments)}function Me(){return Me=Object(F["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,$e(t);case 2:return r=e.sent,e.abrupt("return",r.find((function(e){return e[Pe]===n})));case 4:case"end":return e.stop()}}),e)}))),Me.apply(this,arguments)}function Le(e,t){return Ne.apply(this,arguments)}function Ne(){return Ne=Object(F["a"])(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,$e(t);case 2:if(r=e.sent,o=r.findIndex((function(e){return e[Pe]===n})),-1!==o){e.next=6;break}throw new Error("something went wrong");case 6:return r.splice(o,1),Ie.storeToStorage(t,r),e.abrupt("return",Promise.resolve());case 9:case"end":return e.stop()}}),e)}))),Ne.apply(this,arguments)}function Fe(e,t){return De.apply(this,arguments)}function De(){return De=Object(F["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,$e(t);case 2:return r=e.sent,n[Pe]=Ie.getRandomId(),r.push(n),Ie.storeToStorage(t,r),e.abrupt("return",Promise.resolve(n));case 7:case"end":return e.stop()}}),e)}))),De.apply(this,arguments)}function qe(e,t){return ze.apply(this,arguments)}function ze(){return ze=Object(F["a"])(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,$e(t);case 2:if(r=e.sent,o=r.findIndex((function(e){return e[Pe]===n[Pe]})),-1!==o){e.next=6;break}throw new Error("something went wrong");case 6:return r[o]=n,Ie.storeToStorage(t,r),e.abrupt("return",Promise.resolve(n));case 9:case"end":return e.stop()}}),e)}))),ze.apply(this,arguments)}function Ue(e,t){return Je.apply(this,arguments)}function Je(){return Je=Object(F["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,$e(t);case 2:return r=e.sent,n.forEach((function(e){return e[Pe]=Ie.getRandomId()})),r.push.apply(r,Object(Re["a"])(n)),Ie.storeToStorage(t,r),e.abrupt("return",Promise.resolve());case 7:case"end":return e.stop()}}),e)}))),Je.apply(this,arguments)}var We=n("bc3a"),He=n.n(We),Ve="books",Ye="AIzaSyCvwYFVpbXMd3n25Z7Jfe-7zC-_0OKUgtM",Ke={query:Xe,getById:et,remove:tt,save:nt,removeReview:ot,addReview:rt};function Xe(){return Ze.apply(this,arguments)}function Ze(){return Ze=Object(F["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Be.query(Ve);case 2:if(t=e.sent,t&&t.length){e.next=10;break}return e.next=6,He.a.get("https://www.googleapis.com/books/v1/volumes?printType=books&q=effective%20javascript");case 6:return n=e.sent,t=n.data.items,e.next=10,Be.insert(Ve,t);case 10:return console.log("books: ",t),e.abrupt("return",t);case 12:case"end":return e.stop()}}),e)}))),Ze.apply(this,arguments)}function Ge(){return Qe.apply(this,arguments)}function Qe(){return Qe=Object(F["a"])(regeneratorRuntime.mark((function e(){var t,n,r,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},n=new URLSearchParams(Object(re["a"])(Object(re["a"])({},t),{},{printType:"books",key:Ye})).toString(),e.next=4,He.a.get("https://www.googleapis.com/books/v1/volumes?".concat(n));case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)}))),Qe.apply(this,arguments)}function et(e){return Be.get(Ve,e)}function tt(e){return Be.delete(Ve,e)}function nt(e){return e._id?Be.put(Ve,e):Be.post(Ve,e)}function rt(e,t){e.id=Ie.getRandomId();var n=Object(re["a"])(Object(re["a"])({},t),{},{reviews:t.reviews?[].concat(Object(Re["a"])(t.reviews),[Object(re["a"])({},e)]):[Object(re["a"])({},e)]});return nt(n),n}function ot(e,t){var n=t.reviews.findIndex((function(t){return t===e})),r=Object(re["a"])({},t);return r.reviews.splice(n,1),nt(r),r}window.googleBooks=Ge;var at=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("article",{staticClass:"review-preview"},[n("button",{staticClass:"delete-review-btn clear-btn",on:{click:e.removeReview}},[n("md-icon",{staticClass:"close-x-icon"},[e._v("close")])],1),n("h3",[e._v(" By "),n("span",[e._v(e._s(e.review.username))])]),n("p",[e._v(e._s(e.review.freeTxt))]),n("span",[e._v("Rating: "+e._s(e.review.rating))]),e._m(0)])},it=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("figure",{staticClass:"md:flex bg-gray-100 rounded-xl p-8 md:p-0"},[n("img",{staticClass:"w-32 h-32 md:w-48 md:h-auto md:rounded-none rounded-full mx-auto",attrs:{src:"/sarah-dayan.jpg",alt:"",width:"384",height:"512"}}),n("div",{staticClass:"pt-6 md:p-8 text-center md:text-left space-y-4"},[n("blockquote",[n("p",{staticClass:"text-lg font-semibold"},[e._v(" “Tailwind CSS is the only framework that I've seen scale on large teams. It’s easy to customize, adapts to any design, and the build size is tiny.” ")])]),n("figcaption",{staticClass:"font-medium"},[n("div",{staticClass:"text-cyan-600"},[e._v("Sarah Dayan")]),n("div",{staticClass:"text-gray-500"},[e._v("Staff Engineer, Algolia")])])])])}],st={props:["review"],methods:{removeReview:function(){this.$emit("removeReview",this.review.id)}}},ct=st,ut=Object(c["a"])(ct,at,it,!1,null,null,null),lt=ut.exports,dt={data:function(){return{isLongTxtShown:!1,book:null}},created:function(){this.loadBook()},methods:{loadBook:function(){var e=this;return Object(F["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.$route.params.id,t.next=3,Ke.getById(n);case 3:e.book=t.sent;case 4:case"end":return t.stop()}}),t)})))()},onAddReview:function(e){var t=this;return Object(F["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=Ke.addReview(e,t.book),t.book=r;case 2:case"end":return n.stop()}}),n)})))()},onRemoveReview:function(e){var t=this;return Object(F["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=Ke.removeReview(e,t.book),t.book=r;case 2:case"end":return n.stop()}}),n)})))()}},computed:{bookPriceIcon:W,price:H,isOnSale:function(){return"NOT_FOR_SALE"!==this.book.saleInfo.saleability},pageCountProps:function(){var e=this.book.volumeInfo.pageCount;console.log("pageCount: ");var t={txt:"",darkenIdx:0};return e<100?(t.txt="Light Reading",t.darkenIdx=1):e>=100&&e<200?(t.txt="Decent Reading",t.darkenIdx=2):(t.txt="Long Reading",t.darkenIdx=3),t},publishedDateProps:function(){var e=(new Date).getFullYear(),t=this.book.volumeInfo.publishedDate,n={txt:"",bgColor:""};return t<=e-1&&t>=e-10?(n.txt="New!",n.bgColor="#ffcfc4"):(n.txt="Veteran Book",n.bgColor="#bfeadc"),n},volumeInfo:function(){return this.book.volumeInfo}},components:{SvgIcon:J["a"],LongTxt:we,ReviewAdd:Oe,ReviewPreview:lt}},pt=dt,ft=Object(c["a"])(pt,pe,fe,!1,null,null,null),mt=ft.exports;r["default"].use(M["a"]);var vt=[{path:"/book/:id",component:mt},{path:"/book",name:"Books",component:de},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],gt=new M["a"]({routes:vt}),ht=gt,bt=n("2f62"),wt=(n("4de4"),n("4d63"),n("ac1f"),{state:{books:null,filterBy:null},getters:{booksToShow:function(e){var t=e.filterBy,n=e.books;if(!t||!t.txt&&!t.price)return n;var r=new RegExp(t.txt,"i"),o=n.filter((function(e){return r.test(e.volumeInfo.title)}));return o}},mutations:{setBooks:function(e,t){var n=t.books;e.books=n},removeBook:function(e,t){var n=e.books,r=t.bookId,o=n.findIndex((function(e){return e._id===r}));n.splice(o,1)},setFilter:function(e,t){var n=t.filterBy;e.filterBy=n}},actions:{loadBooks:function(e){return Object(F["a"])(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,Ke.query();case 3:r=t.sent,o={type:"setBooks",books:r},n(o);case 6:case"end":return t.stop()}}),t)})))()},removeBook:function(e,t){return Object(F["a"])(regeneratorRuntime.mark((function n(){var r,o,a,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,o=e.dispatch,a=t.bookId,n.prev=2,n.next=5,Ke.removeBook(a);case 5:i={type:"removeBook",bookId:a},r(i),n.next=14;break;case 9:n.prev=9,n.t0=n["catch"](2),s={type:"setMsg",msgStr:"Couldn't remove book."},o(s),console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[2,9]])})))()}}});r["default"].use(bt["a"]);var kt=new bt["a"].Store({strict:!0,state:{userMsg:""},getters:{userMsg:function(e){var t=e.userMsg;return t}},mutations:{setMsg:function(e,t){var n=t.msgStr;e.userMsg=n}},actions:{setMsg:function(e,t){var n=e.commit,r=t.msgStr;n({type:"setMsg",msgStr:r}),setTimeout((function(){n({type:"setMsg",msgStr:""})}),3e3)}},modules:{bookModule:wt}}),xt=(n("569e"),n("d48d"),n("9c30"));n("51de"),n("e094");r["default"].directive("on-click-outside",R["directive"]),r["default"].use(xt["MdButton"]),r["default"].use(xt["MdIcon"]),r["default"].config.productionTip=!1,new r["default"]({router:ht,store:kt,render:function(e){return e($)}}).$mount("#app")},c5ab:function(e,t,n){},ce32:function(e,t,n){"use strict";n("c5ab")}});
//# sourceMappingURL=app.041dd3e0.js.map